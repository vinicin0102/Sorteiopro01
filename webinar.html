<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Webinar - Live</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Greeting Bar -->
    <div class="greeting-bar">
        <span>OlÃ¡, Visitante</span>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Video Section -->
        <div class="video-section">
            <div class="video-wrapper">
                <div class="video-container" id="video-container">
                    <!-- VÃ­deo serÃ¡ carregado dinamicamente via cÃ³digo embed configurado no admin -->
                    <!-- Se nenhum vÃ­deo for configurado, esta Ã¡rea ficarÃ¡ em branco -->
                    <!-- Overlay para bloquear controles do vÃ­deo -->
                    <div class="video-controls-overlay" id="video-controls-overlay"></div>
                </div>

                <!-- Live Status Bar -->
                <div class="live-status-bar">
                    <div class="live-indicator">
                        <span class="live-dot"></span>
                        <span class="live-text">AO VIVO</span>
                    </div>
                    <div class="viewers-count">
                        <span id="viewers-count">1.000</span> assistindo
                    </div>
                    <div class="timer">
                        <span id="stream-timer">00:00:00</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Section -->
        <div class="chat-section">
            <div class="chat-header">
                <span>Chat</span>
            </div>

            <div class="chat-messages" id="chat-messages">
                <!-- Messages will be added dynamically -->
            </div>

            <div class="chat-input-container">
                <input type="text" id="chat-input" placeholder="Digite sua pergunta..." class="chat-input">
                <button id="send-button" class="send-button">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Offer Popup Modal -->
    <div id="offer-modal" class="offer-modal">
        <div class="offer-modal-content">
            <button id="offer-close-btn" class="offer-close-x">Ã—</button>
            <div id="offer-icon" class="offer-icon">ðŸ”¥</div>
            <h1 id="offer-title" class="offer-title">Oferta Especial</h1>
            <h2 id="offer-subtitle" class="offer-subtitle">Aproveite Agora!</h2>
            <p id="offer-message" class="offer-message">
                NÃ£o perca esta oportunidade Ãºnica!
            </p>
            <div class="offer-details" id="offer-details">
                <p id="offer-details-text">Confira nossa oferta especial!</p>
            </div>
            <a id="offer-cta-btn" href="#" target="_blank" class="offer-cta-btn">Quero Aproveitar</a>
            <button id="offer-close-bottom-btn" class="offer-close-bottom-btn">Fechar</button>
        </div>
    </div>

    <!-- Floating Offer Button (appears after user closes the offer) -->
    <div id="offer-floating-btn" class="offer-floating-btn" style="display: none;">
        <div class="offer-floating-pulse"></div>
        <span class="offer-floating-icon">ðŸ”¥</span>
        <span class="offer-floating-text">Ver Oferta</span>
    </div>

    <!-- Support Floating Button (appears when offer triggers) -->
    <div id="support-floating-btn" class="support-floating-btn" style="display: none;">
        <div class="support-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z"
                    fill="white" />
            </svg>
            <!-- Chat Icon override -->
            <svg width="24" height="24" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg"
                style="position: absolute;">
                <path
                    d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H6L4 18V4H20V16Z" />
            </svg>
        </div>
        <div class="support-text">
            <span class="support-title">Suporte</span>
            <span class="support-subtitle">Precisa de ajuda?</span>
        </div>
    </div>

    <!-- Support Chat Modal -->
    <div id="support-chat-modal" class="support-chat-modal" style="display: none;">
        <div class="support-chat-container">
            <div class="support-chat-header">
                <div class="support-profile">
                    <div class="support-avatar">
                        <img src="https://ui-avatars.com/api/?name=Suporte&background=25D366&color=fff" alt="Suporte">
                    </div>
                    <div class="support-info">
                        <span class="support-name">Suporte Atendimento</span>
                        <span id="support-status" class="support-status">Online</span>
                    </div>
                </div>
                <button id="support-close-btn" class="support-close-btn">Ã—</button>
            </div>
            <div id="support-chat-body" class="support-chat-body">
                <!-- Messages will be injected via JS -->
            </div>
            <div class="support-chat-footer">
                <div class="support-input-wrapper">
                    <input type="text" id="support-input" placeholder="Digite uma mensagem..." disabled>
                </div>
                <button id="support-send-btn" class="support-send-btn" disabled>
                    <svg viewBox="0 0 24 24" width="24" height="24" fill="#919191">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Supabase JS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="config.js"></script>
    <script src="database.js"></script>
    <script src="script.js"></script>

    <!-- Debug Helper -->
    <script>
        e debug disponÃ­veis no console
        console.log('%cðŸ”§ FunÃ§Ãµes de Debug DisponÃ­veis:', 'color: #667eea; font-weight: bold;');
        console.log('â€¢ testWinner() - Testa se vocÃª Ã© ganhador');
        console.log('â€¢ testOffer() - Testa popup de oferta');
        console.log('â€¢ showOffer() - ForÃ§a popup de oferta');
        console.log('â€¢ popup() - VersÃ£o ultra simples do popup');
        console.log('â€¢ localStorage.getItem("webinar_registration") - Ver seus dados');
        console.log('â€¢ localStorage.getItem("webinar_winners") - Ver ganhadores');
    </script>
</body>

</html>